<!DOCTYPE html>
<html>
<meta charset="utf-8">
<title>Arguable</title>
<!--
<link href='http://fonts.googleapis.com/css?family=Parisienne|Oxygen+Mono|PT+Mono|Offside|Nova+Mono|Averia+Serif+Libre|Alex+Brush|Autour+One|Share+Tech+Mono|Merriweather|Maven+Pro|Raleway' rel='stylesheet' type='text/css'>
-->
<!-- todo: why doesn't fork me float? -->
<link href="http://fonts.googleapis.com/css?family=Alex+Brush|Oxygen+Mono|Offside|Raleway:400,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="css/syntax.css">
<link rel="stylesheet" type="text/css" href="css/arguable.css">
<body><a href="https://github.com/bigeasy/arguable/"><img style="position:
absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_gray_6d6d6d.png" alt="Fork me on GitHub"></a><div class="container">

<div class="unit welcome">
<h1>--arguable</h1>
</div>
<!-- todo: code font is too small for body text font -->
<div class="unit description markdown"><p><strong>Arguable</strong> is a command line parser that lends structure to your command line
programs. You can use Arguable as a simple command line parser, or you can use
it to organize your program in a master program with any number of sub-commands
in the style of <code>git</code>, <code>apt-get</code> or <code>yum</code>.</p>
<h2>Usage First</h2>
<p><strong>Arguable</strong> starts with your usage message. It extracts the program arguments
from the usage message. <strong>Arguable</strong> compels you to write a usage message in
order to get your command line to parse.</p>
<pre><code class="lang-javascript"><div class="highlight"><pre><span class="">#</span><span class="o">!</span><span class="">/usr/bin/env node</span>

<span class="cm">/*</span>

<span class="cm">  ___ usage: en_US ___</span>
<span class="cm">  usage: frobinate [options] [file...] [file]</span>

<span class="cm">  options:</span>

<span class="cm">  -h, --help                  display this message</span>
<span class="cm">  -p, --processes   [count]   number of processes to run in parallel</span>

<span class="cm">  description:</span>

<span class="cm">  frobinate will reticuatle the splines in all of your transmogrifier</span>
<span class="cm">  files, optionally in parallel. The `--processes` option is the number</span>
<span class="cm">  of processes to run concurrently, defaulting to one.</span>

<span class="cm">  ___ usage ___</span>

<span class="cm">*/</span>

<span class="nx">require</span><span class="p">(</span><span class="s1">&#39;arguable&#39;</span><span class="p">)(</span><span class="nx">__filename</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">help</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;usage&quot;</span><span class="p">);</span>
  <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../lib/frobinator&#39;</span><span class="p">).</span><span class="nx">frobinate</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">processes</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">$argv</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</code></pre>
<p>In the spirit of opinionated software <strong>Arguable</strong> starts with a full help
message, because I believe that a full usage message is important for a command
line program.</p>
<p>Usage messages are important to Node.js; Linux users have become accustomed to
having a lot of context at their disposal when they invoke <code>--help</code>. Windows
users are without a decent manual page system, so they tend to rely on usage
messages to discover what their software can do.</p>
<p>I don&#39;t want my command line library to assemble a usage message from a method
chained, declarative API. The usage message and arguments of a command line
program are the user interface. I do not expect its implementation to be
trivial. I do not want to delegate the details to a module.</p>
<p>It would rather have spend time composing a nicely formatted usage message, with
the ability to see the whole message, then work from that message.</p>
<h2>Anatomy of a Usage Message</h2>
<p>Your usage message must contain a long option for every option; short options
are optional.</p>
<p>If you have a synonym for one of your commands, simply declare it separately and
document it separately.</p>
<p>The only argument validation that <em>Arguable*</em> performs is to check that
arguments that accept a parameter have a parameter; that arguments that don&#39;t
accept a parameter don&#39;t have a parameter. Type checking is meant to be
performed by the program itself.</p>
<pre><code class="lang-javascript"><div class="highlight"><pre><span class="">#</span><span class="o">!</span><span class="">/usr/bin/env node</span>

<span class="cm">/*</span>

<span class="cm">  ___ usage: en_US ___</span>
<span class="cm">  usage: frobinate [options] [file...] [file]</span>

<span class="cm">  options:</span>

<span class="cm">  -h, --help                  display this message</span>
<span class="cm">  -p, --processes   [count]   number of processes to run in parallel</span>
<span class="cm">  -t, --threads     [count]   same as `--proceses`</span>
<span class="cm">  -v, --verbose               toggle verbose output</span>

<span class="cm">  description:</span>

<span class="cm">  frobinate will reticuatle the splines in all of your transmogrifier</span>
<span class="cm">  files, optionally in parallel. The `--processes` option is the number</span>
<span class="cm">  of processes to run concurrently, defaulting to one.</span>

<span class="cm">  ___ usage ___</span>

<span class="cm">*/</span>

<span class="nx">require</span><span class="p">(</span><span class="s1">&#39;arguable&#39;</span><span class="p">)(</span><span class="nx">__filename</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">help</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;usage&quot;</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">processes</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">processes</span> <span class="o">||</span> <span class="nx">options</span><span class="p">.</span><span class="nx">threads</span> <span class="o">||</span> <span class="mi">1</span><span class="p">;</span>
  <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../lib/frobinator&#39;</span><span class="p">).</span><span class="nx">frobinate</span><span class="p">(</span><span class="nx">processes</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">verbose</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">$argv</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</code></pre>
<p><strong>TK</strong>: Add an example of type checking — integer — to the example
above.</p>
<p><strong>TK</strong>: The error checking example would also show how to report errors.</p>
<p><strong>TK</strong>: End of last edit.</p>
<h2>Commands with Sub-Commands</h2>
<p><strong>Arguable</strong> allows you to specify sub-commands in the style of <code>git</code>, <code>apt-get</code>
or <code>yum</code>. Add the sub-command name to your usage description. <strong>Arguable</strong> will
select the correct help message based on the program arguments.</p>
<pre><code class="lang-javascript"><div class="highlight"><pre><span class="cm">/*</span>

<span class="cm">  ___ run _ usage: en_US ___</span>
<span class="cm">  usage: frobinate run [options] [file...] [file]</span>

<span class="cm">  options:</span>

<span class="cm">  -h, --help                  display this message</span>
<span class="cm">  -p, --processes     [count] number of processes to run in parallel</span>

<span class="cm">  description:</span>

<span class="cm">  frobinate will reticuatle the splines in all of your transmogrifier</span>
<span class="cm">  files, optional in parallel. The `--processes` option is the number of</span>
<span class="cm">  processes to run concurrently, defaulting to zero.</span>

<span class="cm">  ___ compile _ usage: en_US ___</span>
<span class="cm">  usage: frobinate compile [options] [file...] [file]</span>

<span class="cm">  options:</span>

<span class="cm">  -h, --help                  display this message</span>
<span class="cm">  -s, --strict                strict interpretation of the ISO 33465</span>
<span class="cm">                              Frobination Standard.</span>
<span class="cm">  -p, --prefix                prefix for frobination identifiers</span>

<span class="cm">  description:</span>

<span class="cm">  `frobinate compile` will accelerate frobination by compling it to</span>
<span class="cm">  intermediate output interpreted code (IOIC) then frobinating the hell</span>
<span class="cm">  out it.</span>

<span class="cm">  ___ usage ___</span>

<span class="cm">*/</span>

<span class="kd">var</span> <span class="nx">arguable</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;arguable&#39;</span><span class="p">)</span>
  <span class="p">,</span> <span class="nx">frobinator</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../lib/frobinator&#39;</span><span class="p">)</span>
  <span class="p">,</span> <span class="nx">icoc</span>
  <span class="p">;</span>

<span class="nx">arguable</span><span class="p">(</span><span class="nx">__filename</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">help</span><span class="p">)</span> <span class="nx">options</span><span class="p">.</span><span class="nx">abend</span><span class="p">();</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">command</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">case</span> <span class="s1">&#39;compile&#39;</span><span class="o">:</span>
    <span class="nx">ioic</span> <span class="o">=</span> <span class="nx">frobinator</span><span class="p">.</span><span class="nx">prepare</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">strict</span><span class="p">,</span> <span class="nx">option</span><span class="p">.</span><span class="nx">prefix</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">$argv</span><span class="p">);</span>
    <span class="nx">frobinator</span><span class="p">.</span><span class="nx">frobinator</span><span class="p">(</span><span class="nx">ioic</span><span class="p">);</span>
    <span class="k">break</span>
  <span class="k">case</span> <span class="s1">&#39;run&#39;</span><span class="o">:</span>
    <span class="nx">frobinator</span><span class="p">.</span><span class="nx">frobinate</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">processes</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">$argv</span><span class="p">);</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">default</span><span class="o">:</span>
    <span class="nx">abend</span><span class="p">(</span><span class="s1">&#39;unknown command&#39;</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">usage</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</code></pre>
<h2>Internationalization</h2>
<p><strong>Arguable</strong> supports internationalization. Simply write additional usage
messages in other languages following the default language, marking the
additional languages with their locale string. You can then invoke the parser
passing the current locale string as the first argument.</p>
<pre><code class="lang-javascript"><div class="highlight"><pre><span class="cm">/*</span>

<span class="cm">___ usage: en_US ___</span>
<span class="cm">usage: awaken</span>

<span class="cm">  Good morning!</span>
<span class="cm">___ usage: fi_FI ___</span>
<span class="cm">käyttö: awaken</span>

<span class="cm">  Hyvää huomenta!</span>
<span class="cm">___ usage ___</span>

<span class="cm">*/</span>

<span class="kd">var</span> <span class="nx">parse</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;arguable&#39;</span><span class="p">).</span><span class="nx">parse</span>
  <span class="p">,</span> <span class="nx">options</span> <span class="o">=</span> <span class="nx">parse</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">lang</span><span class="p">,</span> <span class="nx">__filename</span><span class="p">,</span> <span class="p">[]);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">$usage</span><span class="p">);</span>
</pre></div>
</code></pre>
<p>We can run the above program with our <code>LANG</code> environment variable set to one of
the supported languages.</p>
<pre><code class="lang-console">$ LANG=fi_FI.UTF-8 node awaken.js
käyttö: awaken

  Hyvää huomenta!</code></pre>
<p>The above will print the Finnish version of the help message. You can pass the
language specified in the users <code>LANG</code> environment variable directly to <code>parse</code>.
If no such language translation exists, it falls back to the first translation
encountered.</p>
<p>Note that command names and switches are not internationalized. Changing the
user&#39;s language preferences is not supposed change the program interface.</p>
<h2>Error Messages</h2>
<p>You can define internationalized error messages. Add a <code>strings</code> section to
following your usage defintion</p>
<pre><code class="lang-javascript"><div class="highlight"><pre><span class="">#</span><span class="o">!</span><span class="">/usr/bin/env node</span>

<span class="cm">/*</span>

<span class="cm">  ___ usage: en_US ___</span>
<span class="cm">  usage: frobinate [options] [file...] [file]</span>

<span class="cm">  options:</span>

<span class="cm">  -h, --help                  display this message</span>
<span class="cm">  -p, --processes   [count]   number of processes to run in parallel</span>

<span class="cm">  description:</span>

<span class="cm">  frobinate will reticuatle the splines in all of your transmogrifier</span>
<span class="cm">  files, optionally in parallel. The `--processes` option is the number</span>
<span class="cm">  of processes to run concurrently, defaulting to one. Note that you</span>
<span class="cm">  cannot run more than four processes at time.</span>

<span class="cm">  ___ strings ___</span>

<span class="cm">    too many processes:</span>
<span class="cm">      You choose %d processes to frobinate %s, but the maximum is 4.</span>

<span class="cm">  ___ usage ___</span>

<span class="cm">*/</span>

<span class="nx">require</span><span class="p">(</span><span class="s1">&#39;arguable&#39;</span><span class="p">)(</span><span class="nx">__filename</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">help</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;usage&quot;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">processes</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">options</span><span class="p">.</span><span class="nx">abend</span><span class="p">(</span><span class="s1">&#39;too many processes&#39;</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">processes</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../lib/frobinator&#39;</span><span class="p">).</span><span class="nx">frobinate</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">processes</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">argv</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</code></pre>
<p>Arguments are fed to <code>util.format</code> and the result is printed in your language
message to standard out.</p>
<p>Each language can have it&#39;s own message section. Your translation might need to
reorder the arguments to fit a different sentence structure. Here&#39;s an example
of reordering, however we&#39;re still in English, because it&#39;s really all I know.</p>
<p>Oh, I&#39;d love a patch if you have an example in your language, and your language
is not English.</p>
<pre><code class="lang-javascript"><div class="highlight"><pre><span class="">#</span><span class="o">!</span><span class="">/usr/bin/node</span>

<span class="cm">/*</span>

<span class="cm">  ___ usage: en_US ___</span>
<span class="cm">  usage: frobinate [options] [file...] [file]</span>

<span class="cm">  options:</span>

<span class="cm">  -h, --help                  display this message</span>
<span class="cm">  -p, --processes   [count]   number of processes to run in parallel</span>

<span class="cm">  description:</span>

<span class="cm">  frobinate will reticuatle the splines in all of your transmogrifier</span>
<span class="cm">  files, optionally in parallel. The `--processes` option is the number</span>
<span class="cm">  of processes to run concurrently, defaulting to one. Note that you</span>
<span class="cm">  cannot run more than four processes at time.</span>

<span class="cm">  ___ strings ___</span>

<span class="cm">    too many processes (2, 1):</span>
<span class="cm">      You choose frobinate %s using %d processes, but the maximum is 4.</span>

<span class="cm">  ___ usage ___</span>

<span class="cm">*/</span>

<span class="nx">require</span><span class="p">(</span><span class="s1">&#39;arguable&#39;</span><span class="p">)(</span><span class="nx">__filename</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">help</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;usage&quot;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">processes</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">options</span><span class="p">.</span><span class="nx">abend</span><span class="p">(</span><span class="s1">&#39;too many processes&#39;</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">processes</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../lib/frobinator&#39;</span><span class="p">).</span><span class="nx">frobinate</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">processes</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">argv</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</code></pre>
<h2>The Fatal Callback</h2>
<p>Your appliation may want to report an error through Arguable after the initial
Arguable callback has completed. It is often the case in Node.js that it only
gets interesting after you&#39;ve invoked a few callbacks.</p>
<p>When you plan on using <code>help</code> or <code>abend</code> in a callback, you&#39;re going to want to
make sure that the error propagates out to the <code>fatal</code> function of the <code>options</code>
object.</p>
<p>How you propagate your errors is up to you. Here we use the <code>&quot;domain&quot;</code> package
to propagte errors.</p>
<pre><code class="lang-javascript"><div class="highlight"><pre><span class="">#</span><span class="o">!</span><span class="">/usr/bin/node</span>

<span class="cm">/*</span>

<span class="cm">  ___ usage: en_US ___</span>
<span class="cm">  usage: frobinate [options]</span>

<span class="cm">  options:</span>

<span class="cm">  -h, --help                  display this message</span>
<span class="cm">  -p, --processes   [count]   number of processes to run in parallel</span>
<span class="cm">  -f, --file        [path]    the file to frobinate</span>

<span class="cm">  description:</span>


<span class="cm">  frobinate will reticuatle the splines in all of your transmogrifier</span>
<span class="cm">  files, optionally in parallel. The `--processes` option is the number</span>
<span class="cm">  of processes to run concurrently, defaulting to one. Note that you</span>
<span class="cm">  cannot run more than four processes at time. The `--file` option is path to</span>
<span class="cm">  the file to frobinate and it is required.</span>

<span class="cm">  ___ strings ___</span>

<span class="cm">    too many processes (2, 1):</span>
<span class="cm">      You choose frobinate %s using %d processes, but the maximum is 4.</span>

<span class="cm">    file missing:</span>
<span class="cm">      cannot find the file to frobinate: %s.</span>

<span class="cm">  ___ usage ___</span>

<span class="cm">*/</span>

<span class="nx">require</span><span class="p">(</span><span class="s1">&#39;arguable&#39;</span><span class="p">)(</span><span class="nx">__filename</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;domain&#39;</span><span class="p">).</span><span class="nx">create</span><span class="p">();</span>
  <span class="nx">d</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">fatal</span><span class="p">);</span>
  <span class="nx">d</span><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">help</span><span class="p">)</span> <span class="nx">options</span><span class="p">.</span><span class="nx">help</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">processes</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">options</span><span class="p">.</span><span class="nx">abend</span><span class="p">(</span><span class="s1">&#39;too many processes&#39;</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">processes</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="c1">// Read a file.</span>
    <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">file</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">intercept</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Here we either call abend or rethrow the error, either way we&#39;ll</span>
      <span class="c1">// propagate to our `options.fatal` function..</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span> <span class="o">==</span> <span class="s1">&#39;ENOENT&#39;</span><span class="p">)</span> <span class="nx">options</span><span class="p">.</span><span class="nx">abend</span><span class="p">(</span><span class="s1">&#39;file missing&#39;</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">file</span><span class="p">);</span>
        <span class="k">else</span> <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="c1">// Good to go.</span>
      <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;../lib/frobinator&#39;</span><span class="p">).</span><span class="nx">frobinate</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">processes</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">argv</span><span class="p">);</span>
    <span class="p">}));</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</code></pre>
<p>You could use <code>process.on(&quot;uncaughtException&quot;)</code> for a quicker and dirtier
implementation that would work just as well.</p>
<h2>Contributors</h2>
<ul>
<li><a href="https://github.com/yawnt">Yawnt</a> — Italian translation.</li>
<li><a href="https://github.com/tuhoojabotti">Ville Lahdenvuo</a> — Finnish
translation.</li>
<li><a href="https://github.com/vielmetti">Ed Vielmetti</a> — German, Spanish,
Portuguese, Japanese, Chinese translations.</li>
</ul>
<h2>Change Log</h2>
<p>todo: Move this into GitHub Releases?</p>
<p>Changes for each release.</p>
<ul>
<li>Upgrade Proof to 0.0.32. #54.</li>
</ul>
<h3>Version 0.0.9</h3>
<p>Sun Jun 30 14:57:25 UTC 2013</p>
<ul>
<li>Implement <code>options.fatal</code>. #52.</li>
<li>Upgrade to Proof 0.0.30. #51. #50.</li>
<li>Use <code>parseFloat</code> to parse numeric. #41.</li>
<li>Fix variable leaked into global namespace. #49.</li>
<li>Provide format to <code>abended</code> function. #35.</li>
<li>Make string resources generally available. #43.</li>
<li>Tidy, delete dead code. #43. #35.</li>
<li>Add coverage chicklet to <code>README.md</code>.</li>
<li>Remove <code>bc</code> install from Travis CI build.</li>
<li>Remove <code>.npmignore</code>. #47.</li>
</ul>
<h3>Version 0.0.8</h3>
<p>Thu Mar 21 05:26:43 UTC 2013</p>
<ul>
<li>Use a usage message for parse errors. #44.</li>
<li>Pass <code>Error</code> to user provided abnormal exit callback. #45.</li>
<li>Make no matching usage a plain old exception. #46.</li>
<li>Begin a design diary.</li>
<li>Add an MIT <code>LICENSE</code> and a contribution guide.</li>
<li>Rename <code>errors</code> function to <code>strings</code>. #42.</li>
<li>Reorder and format error messages. #29.</li>
<li>Drop support for Node.js 0.6.</li>
<li>Fix and test <code>Options.help</code>. #38.</li>
<li>Use <code>Options.abend</code> in arguments parser. #36.</li>
<li>Complete internal conversion to an <code>Options</code> class.</li>
<li>Extract globs into an <a href="https://github.com/bigeasy/expandable">expandable</a>
project. #37.</li>
</ul>
<h3>Version 0.0.7</h3>
<p>Thu Feb 28 07:23:51 UTC 2013</p>
<ul>
<li>Remove <code>defaultLanguage</code> from <code>params</code>. #33.</li>
<li>Error when usage message is missing. #28.</li>
</ul>
<h3>Version 0.0.6</h3>
<p>Thu Feb 21 07:42:25 UTC 2013</p>
<ul>
<li>Fix formatting of change log in <code>README.md</code>. #31.</li>
<li>Create <code>Options</code> class. #32.</li>
<li>Implement sub-commands in usage markup. #30.</li>
<li>Add <code>.js</code> suffix to tests. #26.</li>
<li>Use markup for usage messages instead of guessing locale based on language. #27.</li>
<li>Wrap main body of program in a try/catch block. #25.</li>
</ul>
<h3>Version 0.0.5</h3>
<p>Tue Jul 10 19:02:23 UTC 2012</p>
<ul>
<li>Update <code>README.md</code> help messages with short options first, proper terminator. #19.</li>
<li>Flatten arguments passed to parse. #18.</li>
<li>Internationalization. #8.</li>
<li>Add <code>$given</code>, a list of given parameters. #16.</li>
<li>Remove <code>sort</code> from flatten. #17.</li>
</ul>
<h3>Version 0.0.4</h3>
<p>Tue Jul 10 05:32:25 UTC 2012</p>
<ul>
<li>Implement <code>flatten</code>. #15.</li>
<li>Use <code>:usage</code> to end usage message. #13.</li>
<li>Short opts before long opts in usage message list of options. #14.</li>
</ul>
<h3>Version 0.0.3</h3>
<p>Mon Jul  9 18:24:28 UTC 2012</p>
<ul>
<li>Implement argument parsing. #4.</li>
</ul>
<h3>Version 0.0.2</h3>
<p>Mon Jul  9 00:19:49 UTC 2012</p>
<ul>
<li>Give matched file relative to base. #11.</li>
</ul>
<h3>Version 0.0.1</h3>
<p>Sun Jul  8 23:29:58 UTC 2012</p>
<ul>
<li>Created change log. #10.</li>
<li>Build on Travis CI. #9.</li>
<li>Bash wildcards on Windows. #7. #6. #5.</li>
</ul>
<h3>Version 0.0.0</h3>
<p>Sun Jul  8 02:53:58 UTC 2012</p>
<ul>
<li>Create README.md. #3. #2.</li>
</ul>
</div>

</div></body>
<!-- todo: move into an edify plugin -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-20388260-3', 'bigeasy.github.io');
ga('send', 'pageview');
</script>
</html>
